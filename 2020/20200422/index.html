<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta name=author content="Manning">
<meta name=description content="Manning的个人博客">
<link rel=prev href=https://shaojin.me/2020/2020-04-21-newhugo/>
<link rel=next href=https://shaojin.me/2020/20200426/>
<link rel=canonical href=https://shaojin.me/2020/20200422/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<title>
记录一下折腾过程中的一些代码 | Manning`s Life
</title>
<meta name=title content="记录一下折腾过程中的一些代码 | Manning`s Life">
<link rel=stylesheet href=/css/main.min.css>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shaojin.me"},"articleSection":"posts","name":"记录一下折腾过程中的一些代码","headline":"记录一下折腾过程中的一些代码","description":"\u003cp\u003e在这次折腾Hugo过程中，写到了一些命令，还是有必要备份一下，万一以后还会用到，就不用撞墙了。而且平时部署Hugo说不定还是频繁使用。\u003c\/p\u003e","inLanguage":"zh-cn","author":"Manning","creator":"Manning","publisher":"Manning","accountablePerson":"Manning","copyrightHolder":"Manning","copyrightYear":"2020","datePublished":"2020-04-22 15:16:34 \u002b0800 CST","dateModified":"2020-04-22 15:16:34 \u002b0800 CST","url":"https:\/\/shaojin.me\/2020\/20200422\/","wordCount":"808","keywords":["博客","Hugo","Github","Manning`s Life"]}</script>
</head>
<body>
<div class=wrapper>
<nav class=navbar>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class="navbar-header header-back2home-logo">
<span class=logo_mark>>$</span>
<a href=https://shaojin.me>
<span class=logo_text>cd /home/</span>
<span class=logo_cursor></span>
</a>
</div>
<div class=navbar-right>
<span class=menu>
<a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a>
<span class=divide></span>
<a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a>
</span>
</div>
</div>
</nav>
<nav class=navbar-mobile id=nav-mobile style=display:none>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class=navbar>
<div class="navbar-header header-logo">
<a href=https://shaojin.me>Manning`s Life</a>
</div>
<div class=navbar-right>
<div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div>
<div class=menu-toggle>
<span></span><span></span><span></span>
</div>
</div>
</div>
<div class=menu id=mobile-menu>
<nav class=mb-md>
<a class=menu-item href=/posts/ title>
<h3>Blog</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/categories/ title>
<h3>Categories</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/tags/ title>
<h3>Tags</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/about/ title>
<h3>About</h3>
<div class=menu-active></div>
</a>
</nav>
</div>
</div>
</nav>
<main class=main>
<div class=container>
<article class=post-warp itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">记录一下折腾过程中的一些代码</h1>
<div class=post-meta>
Written by <a itemprop=name href=https://shaojin.me rel=author>Manning</a> with ♥
<span class=post-time>
on <time datetime=2020-04-22 itemprop=datePublished>April 22, 2020</time>
</span>
in
<i class="iconfont icon-folder"></i>
<span class=post-category>
<a href=https://shaojin.me/categories/%E6%8A%80%E6%9C%AF%E6%B4%BB%E5%84%BF/> 技术活儿, </a>
</span>
<span class=post-word-count>808 words</span>
</div>
</header>
<div class=post-content>
<p>在这次折腾Hugo过程中，写到了一些命令，还是有必要备份一下，万一以后还会用到，就不用撞墙了。而且平时部署Hugo说不定还是频繁使用。</p>
<h2 id=文章发布>文章发布</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git add -A
git commit -m &#34;[修订]&#34;
git push -u origin master
</code></pre></div><h2 id=删除文件>删除文件</h2>
<p>1.克隆远程仓库到本地库。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git clone git@github.com:[用户名]/[仓库名].git
</code></pre></div><p>2.对需要删除的文件、文件夹进行操作:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git rm test.txt # 删除文件
git rm -r test # 删除文件夹
</code></pre></div><p>3.提交修改</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git commit -m &#34;随便填写&#34;
</code></pre></div><p>4.将修改提交到远程仓库</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git push origin
</code></pre></div><h2 id=密钥设置>密钥设置</h2>
<p>解决<code>ERROR: Permission to xxxxxx/xxxxxx.github.io.git denied to xxxxxx.</code>报错问题</p>
<ol>
<li>
<p>终端输入<code>ls ~/.ssh/</code>查看当前已由的密钥，也可以忽略，直接为自己多个GitHub设定多个密钥。</p>
</li>
<li>
<p><code>cd ~/.ssh/</code>进入ssh根目录。</p>
</li>
<li>
<p>创建新的密钥</p>
<p><code>ssh-keygen -t rsa -C '根据自己需要设定第一个邮箱地址' -f ~/.ssh/github_[自己的id]</code></p>
<p><code>ssh-keygen -t rsa -C '根据自己需要设定第二个邮箱地址' -f ~/.ssh/github_[自己的另一个id]</code></p>
<p>这样就新设了两个密钥。ssh根目录下就会新生成两对公钥、私钥文档。</p>
</li>
<li>
<p>在ssh根目录下新建<code>config</code>文档，然后填入：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext># github第一个密钥
Host github.com.one #可以自定义
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/[填入第一个的密钥名称]
# github第二个密钥
Host github.com.two #可以自定义
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/[填入第二个的密钥名称]
</code></pre></div></li>
<li>
<p>然后分别进入两个GitHub账户──设置，将上述两个公钥分别复制粘贴到SSH Keys中。</p>
</li>
<li>
<p>测试</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>ssh -T git@github.com.one
ssh -T git@github.com.two
</code></pre></div><p>如果出现以下信息，说明成功了。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>Hi [你的GitHub用户名]! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre></div></li>
<li>
<p>替换</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git remote set-url origin git@github.com.one:[用户名]/[仓库名].git
</code></pre></div><p>或</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git remote set-url origin git@github.com.two:[用户名]/[仓库名].git
</code></pre></div><h2 id=错误failed-to-push-some-refs>错误：failed to push some refs</h2>
<p>2020年4月26日更新</p>
<p>出现该错误的话，一般是由于远程库与本地库不一致，需要使用命令</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git pull --rebase origin master
</code></pre></div><p>&lsquo;命令将远程库的更新合并到本地库。</p>
</li>
</ol>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span>Author:</span>
<span>Manning </span>
</p>
<p class=copyright-item>
<span>Link:</span>
<a href=https://shaojin.me/2020/20200422/>https://shaojin.me/2020/20200422/</span>
</p>
<p class="copyright-item lincese">
本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
</p>
</div>
<div class=post-tags>
<section>
<i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://shaojin.me/tags/%E5%8D%9A%E5%AE%A2/>
#博客</a></span>
<span class=tag><a href=https://shaojin.me/tags/hugo/>
#Hugo</a></span>
<span class=tag><a href=https://shaojin.me/tags/github/>
#Github</a></span>
</section>
<section>
<a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://shaojin.me>home</a></span>
</section>
</div>
<div class=post-nav>
<a href=https://shaojin.me/2020/2020-04-21-newhugo/ class=prev rel=prev title=继续折腾博客><i class="iconfont icon-left"></i>&nbsp;继续折腾博客</a>
<a href=https://shaojin.me/2020/20200426/ class=next rel=next title=免费域名>免费域名&nbsp;<i class="iconfont icon-right"></i></a>
</div>
<div class=post-comment>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.css>
<script src=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.min.js></script>
<script>const gitalk=new Gitalk({clientID:'3c1c3020ed16749f217b',clientSecret:'1f348b31b71804f690ff205ded8b14a4793ec2fb',repo:'toshaojin.github.io',owner:'toshaojin',admin:['toshaojin'],id:location.pathname,distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script>
</div>
</article>
</div>
</main>
<footer class=footer>
<div class=copyright>
&copy;
<span itemprop=copyrightYear>2011 - 2022</span>
<span class=with-love>
<i class="iconfont icon-love"></i>
</span>
<span class=author itemprop=copyrightHolder><a href=https://shaojin.me>Manning</a> | </span>
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a> & <a href=https://github.com/Mogeko/Mogege target=_blank rel="external nofollow">Mogege</a></span>
</div>
</footer>
<script defer src=/js/vendor_main.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script>
<script>pangu.spacingPage()</script>
</div>
</body>
</html>