<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta name=author content="Manning">
<meta name=description content="Manning的个人博客">
<link rel=prev href=https://shaojin.me/2020/2020-04-17-life/>
<link rel=next href=https://shaojin.me/2020/20200422/>
<link rel=canonical href=https://shaojin.me/2020/2020-04-21-newhugo/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<title>
继续折腾博客 | Manning`s Life
</title>
<meta name=title content="继续折腾博客 | Manning`s Life">
<link rel=stylesheet href=/css/main.min.css>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shaojin.me"},"articleSection":"posts","name":"继续折腾博客","headline":"继续折腾博客","description":"为什么折腾？ 没多久之前，刚折腾了新鲜的玩意儿──Gridea，利用这个软件搭建了Github Page。 搭建完之后，又图新鲜买了个域名耍耍。之","inLanguage":"zh-cn","author":"Manning","creator":"Manning","publisher":"Manning","accountablePerson":"Manning","copyrightHolder":"Manning","copyrightYear":"2020","datePublished":"2020-04-21 15:16:34 \u002b0800 CST","dateModified":"2020-04-21 15:16:34 \u002b0800 CST","url":"https:\/\/shaojin.me\/2020\/2020-04-21-newhugo\/","wordCount":"1708","keywords":["博客","Hugo","Github","Manning`s Life"]}</script>
</head>
<body>
<div class=wrapper>
<nav class=navbar>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class="navbar-header header-back2home-logo">
<span class=logo_mark>>$</span>
<a href=https://shaojin.me>
<span class=logo_text>cd /home/</span>
<span class=logo_cursor></span>
</a>
</div>
<div class=navbar-right>
<span class=menu>
<a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a>
<span class=divide></span>
<a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a>
</span>
</div>
</div>
</nav>
<nav class=navbar-mobile id=nav-mobile style=display:none>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class=navbar>
<div class="navbar-header header-logo">
<a href=https://shaojin.me>Manning`s Life</a>
</div>
<div class=navbar-right>
<div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div>
<div class=menu-toggle>
<span></span><span></span><span></span>
</div>
</div>
</div>
<div class=menu id=mobile-menu>
<nav class=mb-md>
<a class=menu-item href=/posts/ title>
<h3>Blog</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/categories/ title>
<h3>Categories</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/tags/ title>
<h3>Tags</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/about/ title>
<h3>About</h3>
<div class=menu-active></div>
</a>
</nav>
</div>
</div>
</nav>
<main class=main>
<div class=container>
<article class=post-warp itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">继续折腾博客</h1>
<div class=post-meta>
Written by <a itemprop=name href=https://shaojin.me rel=author>Manning</a> with ♥
<span class=post-time>
on <time datetime=2020-04-21 itemprop=datePublished>April 21, 2020</time>
</span>
in
<i class="iconfont icon-folder"></i>
<span class=post-category>
<a href=https://shaojin.me/categories/%E6%8A%80%E6%9C%AF%E6%B4%BB%E5%84%BF/> 技术活儿, </a>
</span>
<span class=post-word-count>1708 words</span>
</div>
</header>
<div class=post-content>
<h1 id=为什么折腾>为什么折腾？</h1>
<p>没多久之前，刚折腾了新鲜的玩意儿──Gridea，利用这个软件搭建了Github Page。</p>
<p>搭建完之后，又图新鲜买了个域名耍耍。之前，都是利用互联网资源蹭免费的域名玩。</p>
<p>再然后呢？折腾完没几天，在博客也没输出些实质内容，就又开始瞎折腾了，折腾利用Hugo搭建博客。在遇到Gridea之前，搜索🔍到Hexo、Hugo等教程类文章。但是，苦于各类代码，看到头疼，就望而却步。</p>
<p>但是，为什么现在反而又要尝试折腾了？因为，无意间发现很多Hugo搭建的博客，<del>皮肤</del> theme真漂亮。可能Gridea的theme不仅仅局限于官方的主题市场，但是受限于自己的技术能力，学习成本显然比较高，暂时无法利用其他资源去更换新皮肤，虽然现在用的<code>Fly</code>还是不错的。</p>
<p>另一方面，还是有兴趣去接触一下这类好玩的东西，毕竟兴趣是做好事情的根本动力。</p>
<h1 id=怎么折腾>怎么折腾？</h1>
<p>折腾的过程比较复杂</p>
<h2 id=起步>起步</h2>
<p>在开始之前，Google了很多技术类文章，初步了解了一下大致方法，感觉还是能够驾驭操作的。主要参考的文章就是 <a href=https://mogeko.me/2018/018/>使用 Hugo + GitHub Pages 搭建个人博客</a>，基本上按照这个方法可以顺利完成搭建。当初也是因为看中这个博客的<del>皮肤</del> theme，才起了念头。</p>
<h2 id=意外>意外</h2>
<h3 id=问题1>问题1</h3>
<p>在开始搭建之初，根本没有注意到一个GitHub账户只能搭建一个pages的问题。因此，一开始就在利用之前的Github账户新开了一个仓库，但是hugo渲染之后发现跟Gridea的站点冲突了，而且无法直接用*.github.io直接访问。但是，以之前搭建Gridea的经验，操作程序应该没问题。所以怀疑是不是Github的问题，万能Google告诉我，你蒙对了。</p>
<p>于是，我的解决办法是，重新开一个Github账户。</p>
<h3 id=问题2>问题2</h3>
<p>在解决了问题1之后，按照教程，安装hugo、初始化、安装主题、新建文章、配置，然后卡在了发布阶段。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>git remote add origin https://github.com/[Github 用户名]/[Github 用户名].github.io.git
</code></pre></div><p>在用上述命令将本地库关联到远程库时，发生了错误。提示<code>ERROR: Permission to XXX.git denied to YYY</code>。然后，在这个步骤卡了很久，Google了很多，最后发现是因为SSH密钥设置问题。因为之前可能已经用自己的电脑设置过GitHub，所以这台电脑只认之前的Github账户，不认我新设的账户。解决办法就是新设一个密钥，然后绑定到新设Github账户，教程在这里：</p>
<ol>
<li><a href=https://www.jianshu.com/p/12badb7e6c10>Git 最著名报错 “ERROR: Permission to XXX.git denied to user”终极解决方案</a>。</li>
<li><a href=https://javahikers.github.io/2019/06/15/git-is-configured-with-multiple-ssh-keys/>Git配置多个SSH-Key</a>。</li>
<li><a href=https://www.itrhx.com/2019/01/18/A16-deploy-two-or-more-hexo-blogs/>一台电脑使用两个/多个GitHub账号部署两个/多个Hexo博客</a>。</li>
</ol>
<p>解决了这个问题之后，就可以正常将本地库同步至远程库，完成搭建。</p>
<h3 id=问题3>问题3</h3>
<p>博客设置当中的主要问题有：头像图标、浏览器图标以及文章分类问题。</p>
<p>所用的 <a href=https://github.com/liuzc/leaveit>leaveit</a>主题，头部<code>Blog</code>栏出现404，无法显示我已经发布的文章。最后的症结解决问题是，在文章目录新建posts文件夹，新建的文章放到这个文件夹下，那么发布之后，文章才会出现在<code>Blog</code>这一栏。</p>
<h3 id=问题4>问题4</h3>
<p>在搭建完之后，发现发布文章每次都要输入很多命令，有点繁琐。是不是有自动化的发布工具？万能Google帮助我。发现很多的第三方工具，还有GitHub Action。但是，教程显示都是在新建博客之前，设置好一系列的自动化流程，没有发现在现有博客基础上去构建，于是放弃了使用Github Action自动化部署。</p>
<p>最终老实的用了脚本，方法：</p>
<ol>
<li>
<p>在本地库根目录下新建txt文档；</p>
</li>
<li>
<p>将以下代码Copy：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>#!/bin/sh

# If a command fails then the deploy stops
set -e

printf &#34;\033[0;32mDeploying updates to GitHub...\033[0m\n&#34;

# Build the project.
hugo # if using a theme, replace with `hugo -t &lt;YOURTHEME&gt;`

# Go To Public folder
cd public

# Add changes to git.
git add .

# Commit changes.
msg=&#34;rebuilding site $(date)&#34;
if [ -n &#34;$*&#34; ]; then
    msg=&#34;$*&#34;
fi
git commit -m &#34;$msg&#34;

# Push source and build repos.
git push origin master

cd ..
</code></pre></div></li>
<li>
<p>重命名txt文档为<code>deploy.sh</code></p>
</li>
<li>
<p>使用<code>chmod +x deploy.sh</code>使它可执行</p>
</li>
<li>
<p>新建文章，通过<code>hugo new</code>或直接将md文档放入文件夹</p>
</li>
<li>
<p>输入<code>./deploy.sh</code></p>
</li>
</ol>
<p>相比较之前，可以少输入一些命令，新建文章、输入<code>./deploy.sh</code>。</p>
<p>Gridea需要：新建文章、打开客户端、点击同步。</p>
<h1 id=接下来>接下来</h1>
<p>完成初步搭建之后，觉得还是学到一些知识或是方法。</p>
<p>现在，购买的域名还是绑定在原来的Gridea上，看情况是不是解析到新建站。先两边同步更新一段时间，说不定过段时间，还是觉得Gridea来得简单。</p>
<p><img src=https://i.loli.net/2020/04/22/OKRyYu9AEbN2UQv.png alt></p>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span>Author:</span>
<span>Manning </span>
</p>
<p class=copyright-item>
<span>Link:</span>
<a href=https://shaojin.me/2020/2020-04-21-newhugo/>https://shaojin.me/2020/2020-04-21-newhugo/</span>
</p>
<p class="copyright-item lincese">
本文采用<a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/ target=_blank>知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
</p>
</div>
<div class=post-tags>
<section>
<i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://shaojin.me/tags/%E5%8D%9A%E5%AE%A2/>
#博客</a></span>
<span class=tag><a href=https://shaojin.me/tags/hugo/>
#Hugo</a></span>
<span class=tag><a href=https://shaojin.me/tags/github/>
#Github</a></span>
</section>
<section>
<a href=javascript:window.history.back();>back</a></span> ·
<span><a href=https://shaojin.me>home</a></span>
</section>
</div>
<div class=post-nav>
<a href=https://shaojin.me/2020/2020-04-17-life/ class=prev rel=prev title=疫情后期的工作生活><i class="iconfont icon-left"></i>&nbsp;疫情后期的工作生活</a>
<a href=https://shaojin.me/2020/20200422/ class=next rel=next title=记录一下折腾过程中的一些代码>记录一下折腾过程中的一些代码&nbsp;<i class="iconfont icon-right"></i></a>
</div>
<div class=post-comment>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.css>
<script src=https://cdn.bootcss.com/gitalk/1.5.2/gitalk.min.js></script>
<script>const gitalk=new Gitalk({clientID:'3c1c3020ed16749f217b',clientSecret:'1f348b31b71804f690ff205ded8b14a4793ec2fb',repo:'toshaojin.github.io',owner:'toshaojin',admin:['toshaojin'],id:location.pathname,distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script>
</div>
</article>
</div>
</main>
<footer class=footer>
<div class=copyright>
&copy;
<span itemprop=copyrightYear>2011 - 2022</span>
<span class=with-love>
<i class="iconfont icon-love"></i>
</span>
<span class=author itemprop=copyrightHolder><a href=https://shaojin.me>Manning</a> | </span>
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a> & <a href=https://github.com/Mogeko/Mogege target=_blank rel="external nofollow">Mogege</a></span>
</div>
</footer>
<script defer src=/js/vendor_main.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script>
<script>pangu.spacingPage()</script>
</div>
</body>
</html>